(function(a){$.ss.validation.overrideMessages=!0;var b=a.App=a.App||{},c=function(){};_.mixin({formData:function(a){var b={};return $(a).find("INPUT,TEXTAREA").each(function(){if(this.type=="button"||this.type=="submit")return;b[this.name]=$(this).val()}),b},xhrMessage:function(a){try{var b=JSON.parse(a.responseText);return b.responseStatus?b.responseStatus.message:null}catch(c){return null}},get:function(a,b,c,d){return _.isFunction(b)&&(c=b,d=c,b=undefined),_.ajax({type:"GET",url:a,data:b,success:c,error:d})},post:function(a){return _.ajax(a)},ajax:function(d){a.BASE_URL&&d.url.indexOf("://")===-1&&d.url.charAt(0)!=="/"&&(d.url=a.BASE_URL+d.url);var e=_.defaults(d,{type:"POST",loading:function(){$(document.body).add(d.form).addClass("loading")},finishedLoading:function(){$(document.body).add(d.form).removeClass("loading")},dataType:"json"});e.loading(),$.ajax({type:e.type,url:e.url,data:e.data,success:function(){e.finishedLoading(),$(e.form).clearErrors(),e.success&&e.success.apply(null,arguments)},error:function(a,d,f){e.finishedLoading();try{if(e.form){var g=JSON.parse(a.responseText);$(e.form).applyErrors(g&&g.responseStatus)}}catch(h){}(e.error||b.error||c).apply(null,arguments)},dataType:e.dataType||"json"})}}),b.BaseModel=Backbone.Model.extend({parse:function(a,b){return a?a.result||a.results||a:a},_super:function(a){return this.constructor.__super__[a].apply(this,_.rest(arguments))}}),b.BaseView=Backbone.View.extend({loading:function(){$(this.el).css({opacity:.5})},finishedLoading:function(){$(this.el).css({opacity:1})}})})(window)