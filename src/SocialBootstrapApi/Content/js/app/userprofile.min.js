(function(a){var b=a.App;b.UserProfile=b.BaseModel.extend({url:"api/profile",defaults:{id:null,userName:null,displayName:null,profileImageUrl64:null,showProfile:null,email:null},initialize:function(a){_.bindAll(this,"authChange","onChange"),this.login=a.login,this.login.bind("change:isAuthenticated",this.authChange),this.bind("change",this.onChange)},onChange:function(){this.login.set({displayName:this.get("displayName")})},authChange:function(){this.login.get("isAuthenticated")?this.fetch():this.clear()}}),b.UserProfileView=b.BaseView.extend({initialize:function(){_.bindAll(this,"render"),this.model.bind("change",this.render),this.$el=$(this.el),this.template=_.template($("#template-userprofile").html())},render:function(){this.$el.hide();var a=this.model.attributes;a.twitterUserId=a.twitterUserId||null,a.facebookUserId=a.facebookUserId||null,console.log(a);var b=a.email||a.twitterUserId||a.facebookUserId;if(b){var c=this.template(a);this.$el.html(c),this.$el.fadeIn("fast")}else this.$el.html(""),this.$el.hide();$("#facebook-signin").toggle(!a.facebookUserId),$("#twitter-signin").toggle(!a.twitterUserId)}})})(window)