#
# Copyright (c) 2004-2006 rPath, Inc.
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#

class SaxonNET(AutoPackageRecipe):
    name = 'Saxon.NET'
    version = '8.8Nsvn'

    buildRequires = [
        'mono:lib',
        'mono:runtime',
        'mono:devel',
        'ikvmbin:lib',
        'ikvmbin:runtime',
        'cli-gac-tag:runtime'
       ]

    def setup(r):
        r.addSource('makefile')
	r.addSource('transform')
        r.addSource('query')
        r.addSource('build.sh')
        r.addSource('saxon8.dll')
        r.addSource('gacinstalllist')
	r.addSource('saxon.pc')
	r.Install('saxon.pc',
		'%(libdir)s/pkgconfig/saxon.pc')
        r.Install('gacinstalllist', 
                  '%(libdir)s/cli-gac/saxon.gacinstall')
        r.Config('%(libdir)s/cli-gac/saxon.gacinstall')

        r.Make()
        r.MakeInstall()

        r.Requires('%(libdir)s/cli-gac/saxon.gacinstall', 'cli-gac-tag:runtime')
        
        r.TagSpec('cli-gac', '%(libdir)s/cli-gac/saxon.gacinstall')
        

